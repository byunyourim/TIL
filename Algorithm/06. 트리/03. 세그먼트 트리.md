
이진트리로 구간 합과 데이터 업데이트를 빠르게 수행하기 위해 고안해낸 자료구조의 형태로 인덱스 트리라고도 불린다.
  
**구간 합, 최대, 최소 구하기**로 나눌 수 있고 구현 단계는 트리 초기화하기, 질의값 구하기, 데이터 업데이트하기로 나눌 수 있다

<br>

1. 트리 초기화하기
- 리프노드만 원본 데이터 배열이다
- 인덱스 트리를 일차원 배열로
- 리프 노드의 개수가 데이터의 개수(N) 이상이 되도록 트리 배열을 만든다

<br>

> **트리 배열의 크기**  
> 2^k >= N 을 만족하는 k의 최솟값을 구한 후  
> 2^k * 2 를 트리 배열의 크기로 정의

<img width="866" alt="스크린샷 2024-10-18 오후 9 20 39" src="https://github.com/user-attachments/assets/9c4c9ac9-448e-4ab1-af70-4b210aff9f6b">


<br>
2. 질의값 구하기

주어진 질의 인덱스를 세그먼트 트리의 리프노드에 해당하는
인덱스로 변경합니다.

* 세그먼트 트리 인덱스 = 주어진 질의 index + 2^k - 1

<br>

> **질의값 구하는 과정**
> 1. **start_index % 2 == 1** 일 때 해당 노드를 선택
> 2. **end_index % 2 == 0** 일 때 해당 노드를 선택
> 3. **start_index** depth 변경 : start_index = (start_index + 1) / 2
> 4. end_index depth 변경 : end_index = (end_index - 1) / 2
> 5. 1~4 를 반복하다가 **end_index < start_index** 가 되면 종료


<br>

3. 데이터 업데이트하기
