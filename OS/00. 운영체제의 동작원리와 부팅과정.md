<br><br>

운영체제에 대해서 알아보자.  

<br><br><br><br>





## 운영체제란 뭘까?

![os.png](https://github.com/user-attachments/assets/5046e1fc-6800-43ab-9a5a-eb55b6637427)

운영체제는 운영체제는 응용 프로그램과 하드웨어 사이에 위치하여, 프로그램이 하드웨어 자원을 효율적으로 사용할 수 있도록 도와주는 소프트웨어 이다.  

사용자가 응용프로그램을 통해서 서비스를 요청하면, 운영체제는 하드웨어를 조작하여 요청된 서비스를 수행하고, 
사용자에게 필요한 자원과 기능을 제공한다.  


하드웨어 자원을 관리하고 제어하며, 사용자와 컴퓨터 시스템 간의 인터페이스를 제공하여 프로그램을 효율적으로 실행하도록 한다.

크게 사용자 영역과 커널 영역으로 이루어지며, 커널, 사용자 인터페이스, 시스템 라이브러리, 시스템 유틸리티로 구성된다.


<br><br><br><br><br>


## 운영체제는 어떻게 동작할까?
운영체제는 크게 두 개의 영역으로 나눌 수 있다. 커널 영역과 사용자 영역으로 각 영역은

운영체제는 크게 커널과 사용자 인터페이스로 이루어진다.  


### 사용자 영역
- 응용 프로그램이 실행되는 메모리 공간
- 사용자 프로그램이 실행되며, 운영체제의 서비스에 대한 요청을 시스템 콜을 통해 수행한다.
- 하드웨어 자원에 직접 접근할 수 없고 운영체제의 커널을 통해서 접근한다.
- 다양한 사용자 프로그램이 실행되며, 하나의 프로그램의 오류가 다른 프로그램이나 운영체제에 영향을 미치지 않는다.
     
  #### 1.인터페이스
  사용자와 운영체제 간 상호작용 담당하며 GUI, CLI 형태로 제공된다.
  - CLI (Command Line Interface): **명령어 기반**으로 사용자가 텍스트 명령을 입력하여 시스템을 제어하는 방식. (예: Linux의 Bash, Windows의 Command Prompt)
  - GUI (Graphical User Interface): 아이콘, 윈도우, 마우스 등의 **그래픽을 이용해 사용자가 시스템을 쉽게 조작**할 수 있는 방식. (예: Windows, macOS의 데스크탑 환경)
  
  #### 2. 시스템 라이브러리 (System Libraries)
  운영체제가 제공하는 공용 코드와 함수의 모음으로, 응용 프로그램이 하드웨어와 상호작용할 때 이 라이브러리를 통해 커널과 통신한다.   
  - **System Call, 입출력 처리, 메모리 할당** 등의 기능을 제공하는 표준화된 인터페이스 역할
  
  
  #### 3.시스템 유틸리티 (System Utilities)
  사용자가 시스템을 관리, 유지보수할 수 있도록 도와주는 소프트웨어 도구
  - **백업, 디스크 정리, 파일 복구, 시스템 모니터링 같은 관리 도구**이다.

<br>



### 커널 영역
- 커널이 실행되는 메모리 공간으로 
- 하드웨어와 소프트웨어 간의 상호작용을 관리하고 시스템 자원을 제어한다.
- 커널은 모든 하드웨어 자원에 대한 직접적인 접근 권한을 갖는다.
- 사용자 프로그램의 요청을 처리하고, 시스템 보안 유지, 자원 관리 및 프로세스 관리 등의 기능 수행한다.

<br>

**<mark>커널이 뭐야? 무슨 일을 해?</mark>**

<br>

#### 커널
커널은 운영체제의 핵심 부분으로, 소프트웨어 간의 중재자 역할을 하며, 시스템 자원을 관리한다.
메모리 관리, 프로세스 관리, 입출력 관리, 파일 시스템 관리를 담당한다.

프로그램이 실행되기 위해서는 프로그램이 메인 메모리에 올라가야 한다.    
운영체제 역시 프로그램이기 때문에 메인 메모리에 올라가야 하는네, 운영체제의 크기가 너무 커서   
전체를 메모리에 올릴 경우 비효율적이다.    

따라서 운영체제의 핵심인 커널만 메인 메모리에 올려 운영체제를 사용한다.  
  
**<mark>즉, 커널(Kernel)은 운영체제의 핵심 부분으로, 메모리에 상주하며 하드웨어와 소프트웨어 간의 인터페이스 역할을 한다. 
커널은 컴퓨터가 부팅되면 메모리에 로드되어 실행된다.</mark>**


#### 커널의 기능
- **프로세스 관리** : 프로세스에 CPU를 배분하고 작업에 필요한 환경을 제공한다.
- **메모리 관리** : 프로세스에 작업 공간을 배치하고 실제 메모리보다 큰 가상 공간을 제공한다.
- **파일 시스템 관리** : 데이터를 저장하고 접근할 수 있는 인터페이스를 제공한다.
- **입출력 관리** : 필요한 입출력 서비스를 제공한다.
- **프로세스 간 통신 관리** : 공동 작업을 위한 각 프로세스 간 통신 환경을 제공한다.
- **인터럽트 처리**  
  하드웨어 장치에서 발생하는 인터럽트를 처리하여, 커널이 하드웨어 장치와 소통할 수 있도록 한다.
- **컨텍스트 스위칭**  
  CPU가 하나의 프로세스에서 다른 프로세스로 전환할 때, 현재 프로세스의 상태를 저장하고 새로운 프로세스의 상태를 로드한다. 
- **가상 메모리 관리**  
  물리적 메모리의 부족을 처리하기 위해 가상 메모리 시스템을 사용하여 디스크 공간을 임시 메모리 처럼 사용한다.


<br><br><br>


**그러면 사용자 영역에서는 하드웨어 자원에 직접 접근을 못하는 거야? 접근하는 방법은?**    
보안, 안정성을 위해 사용자 영역에서는 하드웨어에 직접 접근할 수 없다.
모든 하드웨어 자원은 커널 영역에서 처리되므로, 하드웨어에 접근하려면 반드시 운영체제의 커널을 통해서만 가능하다.
그래서 사용자는 시스템 콜을 통해 커널모드로 전환하고, 커널이 하드웨어 자원에 접근하여 필요한 작업을 수행해야 한다.  


<br>



### System Call?

![system.png](https://github.com/user-attachments/assets/2540c268-1f30-4a15-baac-b5e580215dee)
사용자 프로그램이 직접적으로 하드웨어 자원에 접근하는 것을 막고 커널을 보호하기 위한 인터페이스이다.   

사용자 영역에서 실행 중인 프로그램이 하드웨어 자원이나 시스템 자원에 접근하려면, 직접 접근할 수 없기 때문에 커널 모드로 전환해야 한다.
CPU는 사용자 모드에서 커널 모드로 전환되며, 커널은 요청된 작업을 수행한 후 결과를 사용자 프로그램에 반환한다.


<br>

#### 동작
1. 사용자 프로그램이 **시스템 콜(open(), read(), write())** 을 호출한다. 
2. 이 호출은 인터럽트나 특권 명령어를 통해 커널 모드로 전환된다.
3. 커널은 요청된 작업을 처리하고, 결과를 사용자 프로그램에 반환한다.
4. 시스템 콜을 통해 커널 모드로 전환한 동안, 프로그램의 상태는 저장된다.
5. 작업을 마친 후 CPU는 다시 사용자 모드로 전환되어 프로그램이 계속 실행될 수 있도록 한다.

<br><br><br>

자 대략 운영체제에 대해 알았으니 컴퓨터를 켜보자.

<br>
<br><br><br><br>

## 부팅 Booting

부팅은 컴퓨터가 전원을 켠 후 운영체제를 로드하여 사용자가 사용할 수 있는 상태로 만드는 과정이다.


### 동작
#### 1. Power-On
컴퓨터의 전원(Power Supply Unit)이 켜지면, 컴퓨터의 하드웨어가 초기화 된다.
이때, 전원 관리 시스템이 활성화되어, 메인 보드의 CPU와 메모리, 입출력 장치들이 준비된다.


POS는 하드웨어의 정상 작동을 확인하는 초기 검사 과정이고,  
BIOS는 하드웨어를 초기화하고 운영체제를 로드하는 시스템입니다. POS는 BIOS의 일부 과정이다.

<br>

#### 2. POST (Power-On Self Test)
POST는 컴퓨터가 전원을 켤 때 하드웨어가 정상적으로 작동하는지 확인하는 초기 검사로 CPU, 메모리, 저장 장치, 그래픽 카드 등 주요 하드웨어 구성 요소가 제대로 작동하는지 테스트한다.

<br>

#### 3. BootLoader 실행
POST가 끝나면 부트로더가 실행되는데, 부트로더는 운영체제를 메모리로 로드하는 프로그램이다.
일반적으로 하드디스크나 SSD의 부트 섹터에 위치한 부트로더를 실행한다.  

> **bootloader**   
> 운영체제를 메모리에 로드하는 프로그램
> 
> **BIOS (Basic Input/Output System)**     
> 컴퓨터의 초기화 및 부팅 과정을 관리하는 펌웨어
> 하드웨어를 초기화하고, 운영체제를 로드한다.
> 부팅 장치를 찾고, 해당 장치에서 운영체제를 메모리에 로드한다.

<br>

#### 4. 운영체제 커널 로딩
부트로더는 운영체제의 **커널(kernel)**을 메모리로 부트스트랩한다.  
커널이 로드되면, 운영체제는 하드웨어와 소프트웨어를 연결하는 역할을 하고, 사용자 프로그램이 실행될 준비가 된다.

<br>

#### 5. 시스템 초기화
커널이 로드되면, 시스템 초기화 작업이 시작되며, 이 작업에는 필수 시스템 서비스(네트워크, 파일 시스템 등)가 시작되고, 드라이버가 로드되며, 필요한 서비스들이 백그라운드에서 실행된다.
이때 시스템 서비스, 데몬 프로세스가 시작되고, 시스템의 전반적인 동작을 지원한다.

<br>

#### 6. 로그인 화면 표시
사용자가 시스템에 접근할 수 있는 로그인 화면이 표시된다.
사용자 인증을 후, 사용자에게 개인화된 환경을 제공한다.


<br><br>

### 부팅 모드 종류
#### BIOS (Basic Input/Output System) 부팅

일반적인 부팅 방식으로, 부트로더가 **MBR(Master Boot Record)**에 위치하여 커널을 로드한다.
32비트 시스템에서 사용된다.

#### UEFI (Unified Extensible Firmware Interface) 부팅

BIOS를 대체한 새로운 부팅 방식으로, 더 많은 기능과 보안을 제공하며, 
GPT (GUID Partition Table) 파티션 방식과 함께 사용되어, 빠르고 안정적인 부팅을 지원한다.

